---
layout: default
---

# 5.8 数组初始化  

- 数组只是相同类型的、用一个标识符名称封装到一起的一个对象序列或基本类型数据序列  
- 数组是通过**方括号下标操作符[]**来定义和使用的:  
  - ***TypeName[] ArrayName***  
  - ***TypeName ArrayName[]***  
- 编译器不允许指定数组的大小  
  - 现在拥有的只是队数组的一个引用,而且也没有给数组对象本身分配任何空间.
  - 为了给数组创建相应的存储空间,**必须屑初始化表达式**  
  - 初始化动作可以出现在代码的任何地方,也可以用一种特殊的初始化表达式,它必须在创建数组的地方出现  
    - 这种特殊的初始化是由一对花括号括起来的值组成  
- Java中可以将一个数组赋值给另一个数组  

```java
//:initialization/ArrayOfPrimitives.java
public class ArrayOfPrimitives{
    public static void main(String[] args) {
        int[] a1={1,2,3,4,5};
        //Initialize the array by copy from another array,
        //It only copy a reference
        int[] a2;  
        a2=a1;

        for(int item:a2) item+=1;
        for(int i=0;i<a1.length;i++)
            System.out.println("a1["+i+"] = "+a1[i]);
    }
}/*Output:
a1[0] = 1
a1[1] = 2
a1[2] = 3
a1[3] = 4
a1[4] = 5
*///:~
```  

- 所有数组都有一个固定成员**length**,可以通过它获知**数组内包含了多少个元素,但不能对其进行修改**  
  - Java数组计数**从0开始**,能使用的最大下标数是**length-1**  
  - 一旦访问下标过界,就会出现运行时错误(**异常**)  
- 如果编写程序时,并不能确定在数组里需要多少个元素,可以直接用new在数组里创建元素  
  - 不能用new创建单个的基本类型数据  

    ```java
    //:initialization/ArrayNew.java
    //Creating arrays with new
    import java.util.*;
    public class ArrayNew{
        public static void main(String[] args) {
            int[] a;
            Random random=new Random(47);
            a=new int[random.nextInt(20)];
            System.out.println("length of a = "+a.length);
            System.out.println(Arrays.toString(a));
        }
    }/**Output:
    length of a = 18
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    *///:~
    ```  

  - 数组元素中的基本数据类型**会自动初始化成空值**  
    - 数字和字符就是0  
    - 布尔型就是false  